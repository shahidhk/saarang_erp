{"ts":1375343221909,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"from django.db import models\nfrom django.conf import settings\nfrom django.contrib.auth.models import User, Group\nfrom django.utils.translation import ugettext_lazy as _\nfrom django.db.models.signals import post_save\n# Create your models here.\nclass UserProfile(models.Model):\n    '''\n        Define extra details needed for User other than default django fields\n    '''\n    #Username should be roll number\n    user = models.OneToOneField(User)\n    nick = models.CharField(max_length=60, null=True)\n    avatar = models.ImageField(\"Profile Pic\", upload_to=\"avatars/\", blank=True, null=True)\n    post_count = models.IntegerField(default=0, null=True)\n    department = models.CharField(max_length=60, choices=settings.DEPARTMENTS, blank=True, null=True)\n    event = models.CharField(max_length=60, choices=settings.EVENTS, blank=True, null=True)\n    dob = models.DateField(blank = True, null=True)\n    mobile = models.IntegerField(max_length=10, blank=True, null=True)\n    mobile_home = models.IntegerField(max_length=10,  blank=True, null=True)\n    facebook = models.URLField(blank=True, null=True)\n    hostel = models.CharField(max_length=60, choices=settings.HOSTELS, blank=True, null=True)\n    room = models.IntegerField(max_length=4, blank=True, null=True)\n    \n    class Meta:\n        verbose_name = _('UserProfile')\n        verbose_name_plural = _('UserProfiles')\n\n    def __unicode__(self):\n        return unicode(self.user.username)\n\ndef create_user_profile(sender, instance, created, **kwargs):\n    if created:\n        UserProfile.objects.create(user=instance)\n\npost_save.connect(create_user_profile, sender=User, dispatch_uid='autocreate_nuser')"]],"start1":0,"start2":0,"length1":0,"length2":1652}]],"length":1652}
